stagedFiles=$(git diff --cached --name-only)

pnpm run format
[ -n "$stagedFiles" ] && git add $stagedFiles

if pnpm run lint; then
  [ -n "$stagedFiles" ] && git add $stagedFiles
  echo "âœ… lint passed, committingâ€¦"
  exit 0
else
  echo "ðŸš¨ lint errors detected, aborting commit."
  exit 1
fi
